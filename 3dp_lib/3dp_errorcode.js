/**
 * @fileoverview
 * @description 3Dプリンタ監視ツール 3dpmon 用 エラーコード定義モジュール
 * @file 3dp_errorcode.js
 * @copyright (c) pumpCurry 2025 / 5r4ce2
 * @author pumpCurry
 * -----------------------------------------------------------
 * @module 3dp_errorcode
 *
 * 【機能内容サマリ】
 * - エラーコードと日本語メッセージのマッピングを提供
 * - 引数を与えてメッセージ文字列を生成
 *
 * 【公開関数一覧】
 * - default export：エラーメッセージ関数のマップ
 *
 * @version 1.390.317 (PR #143)
 * @since   1.390.193 (PR #86)
 * @lastModified 2025-06-19 22:38:18
 * -----------------------------------------------------------
 * @todo
 * - none
 */

/**
 * 【使用方法】
 *  例）エラーコード 2240 で v = ["abc", "def", "ghi", 3, 4] の場合:
 *       import errorMap from "./3dp_errorcode.js";
 *       const msg = errorMap[2240](v);
 *       // msg に対応する日本語のエラーメッセージが取得できます。
 */
export default {
  // -----------------------------------------------------------
  // エラーコード（昇順、1～2999）
  // -----------------------------------------------------------
  1:  (v) => `key${v[0]}モータードライブに異常があります`,
  2:  (v) => `key${v[0]}内部エラー`,
  3:  (v) => `key${v[0]}通信エラー`,
  4:  (v) => `key${v[0]}期待通りに加熱されていません`,
  5:  (v) => `key${v[0]}ヒートベッド温度に異常があります`,
  6:  (v) => `key${v[0]}押出機に異常があります`,
  7:  (v) => `key${v[0]}印刷ファイルの座標が異常です`,
  8:  (v) => `key${v[0]}印刷品質に問題が検出され、一時停止されました`,
  23: (v) => "プリンターが準備できていません。Klippyホストが接続を試みています。しばらくしてから再試行してください！",

  // --- 100～199：AI／初期レイヤー／LiDAR／ファン ---
  100: (v) => "UディスクからのG-codeファイルのコピーに失敗しました。印刷を開始しないでください。",
  101: (v) => "AIにより印刷品質問題が検出され、印刷が一時停止されました。確認のうえ再開できます。",
  102: (v) => "G-codeファイル名が長すぎます。短くしてください。",
  103: (v) => "AIが初層の異常を検出し、印刷を一時停止しました。",
  104: (v) => "プラットフォーム上に異物が検出されました。取り除いてください。",
  108: (v) => "LiDARのオフセット補正に失敗しました。",
  109: (v) => "スロートファンに異常があります。ノズル基板または配線を確認してください。",
  110: (v) => "メインMCUのハードウェア接続に異常があります。",
  111: (v) => "ノズルMCUのハードウェア接続に異常があります。",
  112: (v) => "ヒートベッドMCUのハードウェア接続に異常があります。",

  // --- 200～299：一般異常系 ---
  200: (v) => `key${v[0]}印刷中に未知のエラーが検出されました`,
  201: (v) => `key${v[0]}チャンバー温度に異常があります`,
  202: (v) => `key${v[0]}印刷ファイルの座標が異常です`,
  203: (v) => `key${v[0]}振動最適化センサーに異常があります`,
  204: (v) => `key${v[0]}ファンに異常があります`,
  205: (v) => `key${v[0]}ネットワークエラー`,
  206: (v) => `key${v[0]}印刷品質に問題が検出されました`,
  207: (v) => `key${v[0]}Z-Touchエラーが検出されました。再試行してください`,
  208: (v) => `key${v[0]}ファイルコピーエラー。再試行してください`,

  300: (v) => `MCU設定時 ${v[0]} エラー: ${v[1]}`,

  500: (v) => "印刷品質問題がAIにより検出されました。",
  501: (v) => "ヒートブレイクファンが異常です。ファン接続や破損を確認してください。",
  502: (v) => "メインボードファンが異常です。ファン接続や破損を確認してください。",
  503: (v) => "初期レイヤー検出に異常があります。",
  504: (v) => "現在のファイルはフロー検出に対応していません。",
  505: (v) => "AI LiDARの異常が検出されました。ケーブル接続またはLiDAR本体を確認してください。",
  506: (v) => "AI LiDARのキャリブレーションに失敗しました。",
  507: (v) => "AI LiDARの位置合わせに失敗しました。",
  508: (v) => "ストレージの使用率が制限に達しました。不要なデータを削除してください。",

  800: (v) => `key${v[0]}軸移動エラー`,
  801: (v) => `key${v[0]}プリンターが準備できていません。Klippyホストが接続を試みています。後でもう一度お試しください`,

  // --- 1000番台 ---
  1000: (v) => "G-codeファイルの解析中に予期しないエラーが発生しました。",
  1001: (v) => "使用できないファイル形式が指定されました。",
  1010: (v) => "SDカードからの読み込み中にエラーが発生しました。",
  1100: (v) => "MCUの初期化に失敗しました。再起動してください。",

  // --- 2000～2099番台：MCU通信、温度、リスタート ---
  2000: (v) => "MCUの設定を更新できません。MCUが停止しています。再起動してください。接続線も確認してください。",
  2001: (v) => "E軸ドライバーICのレジスタ状態が読み取れません。通信タイムアウトの可能性があります。ノズル基板・ケーブルを再接続してください。",
  2002: (v) => "ホストが接続できません。メインボードを確認してください。",
  2014: (v) => "スライス距離がマイナス、または移動可能な距離を超えています。正しいスライサー設定やモデルを使用しているか確認してください。",
  2016: (v) => "印刷が一時停止されていないため、リカバリを中止しました。",
  2019: (v) => `目標温度 ${v[0]} が設定範囲 (${v[1]}～${v[2]}) を超えています。スライス設定を見直してください。`,
  2020: (v) => `原点復帰エラー: ${v[0]}`,
  2021: (v) => `${v[0]} 原点復帰タイムアウトエラーです。`,
  2056: (v) => `${v[0]}軸の加速度センサーからデータが取得できません。センサー接続を確認してください。`,
  2057: (v) => "不明な例外が発生しました。",
  2060: (v) => "ノズル端子の不良か通信異常です。一度電源を切り、端子を抜き差しして再起動してください。",
  2065: (v) => `ADXL345レジスタ [0x${v[0]}] に 0x${v[1]} を設定できません（取得値: 0x${v[2]}）。配線不良またはADXL345チップの故障が考えられます。ノズル小基板の交換を推奨します。`,
  2069: (v) => "スライスファイルに「M107 P3」コードが含まれています。最新のスライサーで再スライスしてください。",
  2090: (v) => "タイマーがオフになっています。ホストが高負荷状態か過負荷です。",
  2091: (v) => "MCUとホスト間の通信が一時的に失敗し、次のスケジュールを見逃しました。",
  2092: (v) => "ADC値が設定温度範囲外になりました。ヒーター温度異常が考えられます。",
  2093: (v) => "ステップ実行タイミングが過去にずれ込み、MCU能力を超える要求になっています。",
  2095: (v) => "処理を実行する前に原点復帰を実施してください。",
  2111: (v) => "押出温度が170℃未満です。スライス設定やノズルの加熱状況を確認してください。",
  2112: (v) => `押出断面積が最大を超えています (${v[0]}mm² vs ${v[1]}mm²)。`,
  2113: (v) => "押出機の設定が無効です。",
  2114: (v) => "押出機が存在しない状態で押出が実行されました。",
  2115: (v) => `列挙型 ${v[1]} に無効な値 ${v[0]} が指定されました。`,
  2116: (v) => `出力フォーマットが無効です: ${v[0]}`,
  2117: (v) => "メッセージの末尾に余分なデータがあります。",
  2118: (v) => "adxl345 FIFO を照会できません。",
  2119: (v) => `adxl345 IDが無効です（期待: ${v[1]} / 実際: ${v[0]}）。接続不良またはチップ異常の可能性。`,

  2210: (v) => "フィラメントの自動ロードができません。押出機が最低温度未満です。",
  2211: (v) => "印刷が一時停止されました。",

  2121: (v) => "G-codeファイル名に特殊文字が含まれているため開けません。英数字のみでファイル名を再設定してください。",

  2218: (v) => "BLTouchがセンサー状態の検証に失敗しました！",
  2219: (v) => "display_templateのパラメータが無効です",
  2220: (v) => "未知のdisplay_dataグループ" + v[0],
  2221: (v) => "無効なグリフ行は" + v[0],
  2222: (v) => "字形" + v[0] + "が不正です",
  2223: (v) => "部品名" + v[0] + "無効",
  2224: (v) => "hd44780のすべてのピンは同一のMCU上にある必要があります",
  2225: (v) => "抽象クラスMenuContainerは直接インスタンス化できません",
  2226: (v) => "メニュー項目" + v[0] + "は受け付けられません",
  2227: (v) => "型が不正です。MenuContainerである必要があります",
  2228: (v) => "オプション" + v[0] + "を選択" + v[1] + "は有効な選択ではありません",
  2229: (v) => "未知のメニュー項目です" + v[0] + "。",
  2230: (v) => "encoder_pinsを解析できません",
  2231: (v) => `${v[0]}SPIピンは同一のMCU上にある必要があります`,
  2232: (v) => "adxl345の測定値が見つかりません",
  2233: (v) => "bed_mesh: エラー、fade_targetがグリッドのZ範囲外です。最小値" + v[0] + v[1] + "fade_target:" + v[2],
  2234: (v) => "bed_mesh: グリッドがフェード範囲を超えています。example-extras.cfgのfade_startおよびfade_endオプションを参照してください。フェード距離: " + v[0] + "グリッドの最小値:" + v[1] + "グリッドの最大値:" + v[2],
  2235: (v) => "グリッド水平調整: 分割および移動時にエラーが発生しました",
  2236: (v) => "ベッドが検出されていません",
  2237: (v) => "オフセットにメッシュが読み込まれていません",
  2238: (v) => "bed_mesh: インデックスにおける不良領域の座標を生成できません",
  2239: (v) => "bed_mesh: プローブ数が4未満のためバイキュービック補間が検出されました。強制的にラグランジュ補間を実施します。設定されたプローブ数:" + `${v[0]}, ${v[1]}`,
  2240: (v) => "bed_mesh: 点が一致しません、orig = (" + `${v[0]}, ${v[1]}` + "), probed = " + `(${v[3]}, ${v[4]})`,
  2241: (v) => "bed_mesh: Y制御点の検索中にエラーが発生しました",
  2242: (v) => "まず原点復帰してください:" + `${v[0]} ${v[1]} ${v[2]} [${v[3]}]`,
  2243: (v) => "座標が範囲外です: [" + `${v[0]} ${v[1]} ${v[2]} [${v[3]}]`,
  2244: (v) => "押出移動が長すぎます (" + `${v[0]}mm vs${v[1]}mm）` + "。max_extrude_only_distance 設定オプションを参照してください",
  2246: (v) => "セクショナルベッドメッシュのオプション" + v[0] + "少なくとも必要です" + v[1],
  2247: (v) => "セクショナルベッドメッシュのオプション" + v[0] + "最大値は次でなければなりません" + v[1],
  2248: (v) => "パラメータを解析できません" + v[0],
  2249: (v) => "パラメータ" + v[0] + "最小値は次でなければなりません" + v[1],
  2250: (v) => "パラメータ" + v[0] + "最大値は次でなければなりません" + v[1],
  2251: (v) => `${v[0]}エラー: 欠落しています${v[1]}`,
  2252: (v) => `パラメータ ${v[0]} の最小値は ${v[1]} でなければなりません。`,
  2253: (v) => `パラメータ ${v[0]} の最大値は ${v[1]} でなければなりません。`,
  2254: (v) => `${v[0]}上記のエラー${v[1]}より大きくなければなりません${v[2]}`,
  2255: (v) => `${v[0]}上記のエラー${v[1]}より小さくなければなりません${v[2]}`,
  2256: (v) => "警告: 位置に変化がありません（ステッピング分解能に達しています）",
  2257: (v) => "手動プロービングに失敗しました！ACCEPT実行前にTESTZコマンドでノズルを位置決めしてください。",
  2258: (v) => "プローブ仮想エンドポイントはエンドポイントピンとしてのみ使用されます",
  2259: (v) => "プローブ仮想エンドストップをプルアップまたは反転できません",
  2260: (v) => "G-codeスクリプト無効化中にノズルが移動しています",
  2261: (v) => "Deltaプリンターの場合にのみ利用可能なDeltaキャリブレーションです",
  2262: (v) => "すべての測定値が提供されているわけではありません",
  2263: (v) => "まずDELTA_CALIBRATEで基本キャリブレーションを実行してください",
  2264: (v) => "パラメータ" + v[0] + "が必要です" + v[1] + "値",
  2265: (v) => "不明なキャリブレーション操作",
  2266: (v) => "Dotstarピンは同一MCU上にある必要があります",
  2267: (v) => "ステッパー統計情報は利用できません" + v[0],
  2268: (v) => "ステッパーが見つかりません。（少なくとも一度はゼロにしてください。）",
  2269: (v) => "未知のG-codeマクロ変数" + v[0],
  2270: (v) => "転送できません" + v[0] + "テキストとして解析してください",
  2271: (v) => "G-Code移動変換が指定されています",
  2272: (v) => `${v[0]}速度が無効です`,
  2273: (v) => "移動を解析できません" + v[0],
  2274: (v) => "未知のG-codeステータス:" + v[0],
  2275: (v) => "HTU21Dの解像度が無効です。有効な値は" + v[0],
  2276: (v) => "replicapeはピンタイプをサポートしていません",
  2277: (v) => "静的ピンはオフにできません",
  2278: (v) => "Replicapeの仮想有効ピンを反転できません",
  2279: (v) => "replicapeはPWMチップを判断できません",
  2280: (v) => "未知のreplicapeピン" + v[0],
  2281: (v) => "タッチエラー：z_offsetの最小値が必要です" + v[0] + "。基本問題が解決したら、'reboot'コマンドを使用して、設定を再読み込みし、ホストソフトウェアを再起動してください。プリンターは停止しました",
  2282: (v) => "オプションを解析できません" + `${v[0]},${v[1]}`,
       
  2283: (v) => "プリンターが準備できていません",
  2284: (v) => "既存の変数ファイルを解析できません",
  2285: (v) => "既存の変数ファイルを解析できません" + v[0],
  2286: (v) => "変数を保存できません",
  2287: (v) => "複数MCU共有軸では、マルチMCUホーミングはサポートされていません",
  2288: (v) => "静的ピンはオフにできません",
  2289: (v) => "最大持続時間のピンの初期値はシャットダウン値と一致する必要があります",
  2290: (v) => "デジタルピンの最大持続時間が大きすぎます",
  2291: (v) => "ソフトPWMの停止値は0.0または1.0でなければなりません",
  2292: (v) => "PWMピンの周期時間が長すぎます",
  2293: (v) => "PWM周期時間が長すぎます",
  2294: (v) => "応答がタイムアウトしました: ${v[0]}",
  2295: (v) => `MCU ${v[0]} の再起動に失敗しました。`,
  2296: (v) => "MCU" + v[0] + "CRCが設定と一致しません",
  2297: (v) => "ピン" + v[0] + "MCUではありません" + v[1] + "有効なピン名",
  2298: (v) => `MCU ${v[0]} の設定を更新できません（電源がオフのため）。`,
  2299: (v) => `MCU ${v[0]} の設定に失敗しました。`,

  2300: (v) => `MCU ${v[0]} 設定中にエラーが発生しました: ${v[1]}`,

  2301: (v) => "MCU自動リセットに失敗しました" + v[0],
  2302: (v) => "MCU上で利用可能な移動が少なすぎます" + v[0],
  2303: (v) => "mcuがサポートしていないピンタイプです" + v[0],
  2304: (v) => `${v[0]}軸の形式は無効`,
  2305: (v) => "軸方向を解析できません" + v[0],
  2306: (v) => "Unsupported output" + v[0] + ", only supports resonances and raw_data",
  2307: (v) => "出力が指定されていません",
  2308: (v) => `${v[0]}軸加速計にてデータが測定されませんでした`,
  2309: (v) => "Response Type" + v[0] + "Invalid. Must be one of echo, command or error",
  2310: (v) => "must be in mcu" + v[0] + "上指定" + v[1],
  2311: (v) => "未知" + `${v[0]} '${v[1]}'`,
  2312: (v) => "リモート計算エラー:" + v[0],
  2313: (v) => "加速度計データを処理中" + v[0] + "内部エラーが発生しました",
  2314: (v) => "ファイル書き込み" + v[0] + "エラー: " + v[1],
  2315: (v) => "skew_correction：平面[" + `${v[0]}` + "]の項目形式が不正です。",
  2316: (v) => "Max31856：冷接点の温度が仕様範囲外です。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2317: (v) => "Max31856：熱電対の温度が仕様範囲外です。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2318: (v) => "Max31856：冷接点の温度が高すぎます。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2319: (v) => "Max31856：冷接点の温度が低すぎます。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2320: (v) => "Max31856：熱電対の温度が高すぎます。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2321: (v) => "Max31856：熱電対の温度が低すぎます。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2322: (v) => "Max31856：過電圧または低電圧の異常が検出されました。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2323: (v) => "Max31856：熱電対が開放状態です。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2324: (v) => "Max31855：回路が開放されています。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2325: (v) => "Max31855：GNDへの短絡が検出されました。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2326: (v) => "Max31855：Vccへの短絡が検出されました。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2327: (v) => "Max6675：デバイスIDが不正です。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2328: (v) => "Max6675：熱電対が開放状態です。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2329: (v) => "Max31865：RTDの入力が切断されています。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2330: (v) => "Max31865：RTDの入力が短絡しています。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2331: (v) => "Max31865：VREFが0.85×VBIASより大きく、強制ON状態です。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2332: (v) => "Max31865：VREFが0.85×VBIASより小さく、強制ON状態です。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2333: (v) => "Max31865：VREFが0.85×VBIASより小さく、強制ON状態です。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2334: (v) => "Max31865：未定義のエラーが発生しました。原因を修正後、「FIRMWARE_RESTART」コマンドで再起動してください。プリンターは停止しました。",
  2335: (v) => `オプション「${v[0]}」はセクション「${v[1]}」で必須です。`,
  2336: (v) => `このファイルにはセクションヘッダが含まれていません：${v[0]} 問題を修正後、「RESTART」コマンドで構成を再読み込みし、ホストソフトを再起動してください。プリンターは停止しました。`,
  2337: (v) => `ファイルの解析中にエラーが発生しました：${v[0]} 問題を修正後、「RESTART」コマンドで構成を再読み込みし、ホストソフトを再起動してください。プリンターは停止しました。`,

  2340: (v) => `ヒーター ${v[0]} の設定温度（${v[1]}）が範囲外です（${v[2]}～${v[3]}）。`,
  2343: (v) => "メインMCUとの接続がタイムアウトしました。",
  2344: (v) => "ノズルMCUとの接続がタイムアウトしました。",
  2345: (v) => "ヒートベッドMCUとの接続がタイムアウトしました。",

  // --- 2500番台：TMC・加熱・センサー ---

  2503: (v) => "Z軸ひずみゲージのデータを読み取れませんでした。",
  2504: (v) => "Z軸の原点復帰に異常が発生しました。",
  2505: (v) => "モータードライバTMCに異常があります。メインボードファンまたは電圧を確認してください。主な原因：過熱、低電圧、ファンの干渉。",
  2506: (v) => "通信に異常があります（ノズルの配線確認）。",
  2507: (v) => "加熱に失敗しました。ノズルまたはヒートベッドの加熱を個別に確認してください。",
  2509: (v) => "ノズルセンサー温度に異常があります。",
  2510: (v) => "ヒートベッドセンサー温度に異常があります。",
  2511: (v) => "チャンバー温度に異常があります。",
  2512: (v) => "メインMCUチップの温度が異常です。",
  2513: (v) => "コマンドの形式が不正です。",
  2514: (v) => "コマンドのパラメータ形式が不正です。",
  2520: (v) => "圧力センサーの読み取りがタイムアウトしました。頻発する場合は基板交換を検討してください。",
  2521: (v) => "レベリングセンサーチップの異常、またはセンサーの故障が検出されました。",
  2522: (v) => "センサーが圧力を検出できません。Z軸センサーの故障の可能性。",
  2523: (v) => "測定中にパケットロスが発生し、圧力データが欠損しました。",
  2524: (v) => "静止中の圧力ノイズが大きすぎます。センサー異常または環境要因の可能性。",
  2526: (v) => "Z軸またはリードスクリューの動きが滑らかでないためステップロスが発生しました。",
  2527: (v) => "測定後のパケットロスにより、モーターステップデータが欠落しました。",
  2529: (v) => "Z軸センサーの異常により、G28の測定回数が上限（20回）を超えました。",
  2532: (v) => "2つのMCU間の同期配線に異常があります（接触不良）。",
  2533: (v) => "パラメータ異常のため再レベリングしてください。",
  

  // --- 2560～2565：通信・加熱失敗 ---
  2560: (v) => "メインMCUとの通信が5秒以上失われています。配線を確認して再起動してください。",
  2561: (v) => "ホットエンドMCUとの通信が異常です。配線を確認して再起動してください。",
  2562: (v) => "ヒートベッドMCUとの通信が異常です。配線を確認して再起動してください。",
  2563: (v) => "Raspberry PiとMCU間の通信が異常です。配線を確認して再起動してください。",
  2564: (v) => "ノズルが期待通りに加熱されていません。ヒーターまたはサーミスタを確認してください。",
  2565: (v) => "ヒートベッドが期待通りに加熱されていません。配線やヒューズを確認してください。",

  3000: (v) => "webhooksリクエストによりシャットダウンしました。" + "根本的な問題が解決されたら、\"FIRMWARE_RESTART\" コマンドを使用してファームウェアをリセットし、設定を再読み込みしてホストソフトウェアを再起動してください。" + "プリンターは停止しています",
  3002: (v) => "ノズル通信異常。ケーブルが正しく接続されていないか、基板の不一致がある可能性があります。"
};
